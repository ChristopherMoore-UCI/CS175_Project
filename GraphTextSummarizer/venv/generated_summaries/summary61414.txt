The deal had been long expected after Washington and Kabul found compromises over the thorny issues of "night raids" by U.S. forces on Afghan homes and the transfer of U.S. detainees to Afghan custody. An undetermined number of U.S. forces will remain in country past 2014 working as military advisers and counterterrorism forces, but officials have yet to decide for how long. The president reiterated that U.S. forces will not remain "a single day longer" than necessary, that he remains committed to pulling 23,000 troops out of the country by September and that he will stick to a 2014 deadline to fully withdraw from Afghanistan. The president's trip was his third since taking office and comes amid heightened tensions between the Obama and Karzai governments after a string of incidents involving U.S. personnel. "Another attack by the insurgency that resulted in the deaths of innocent Afghan civilians, with most of that being children from a nearby school."