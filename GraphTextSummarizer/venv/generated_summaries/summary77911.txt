Reigning world and European champions Spain set up the purists' dream Confederations Cup final against host nation Brazil but only after squeaking past a stubborn Italian side on penalties. The heavyweight European nations produced an entertaining game which somehow ended goalless after extra time, as both sides' endurance was tested to the limit in the heat of Fortaleza. Yet Vicente del Bosque's side were not at their best against familiar foes and could have suffered an unexpected reverse had Italy not wasted a host of early opportunities, with Emanuele Giaccherini hitting a post early in extra time. Brazil has been hit by wave of mass demonstrations as its citizens clamor for better public services in a land where $15 billion has been set aside to host the Confederations Cup and next year's World Cup. The host nation ensured they will be playing in the iconic Rio de Janeiro stadium, which is set to host the 2014 World Cup final, when beating fellow South Americans Uruguay 2-1 in a tight contest on Wednesday.