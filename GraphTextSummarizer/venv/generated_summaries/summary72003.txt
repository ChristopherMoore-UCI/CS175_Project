Robin, of course, had long ago divorced Barney -- the first big shocker of the night. Barney, however, we would learn, became a father, and in one of several touching scenes from the episode, finally found the love of his life in baby Ellie. Marshall and Lily, pregnant with their second child in the present day, went on to have a third, but Lily was heartbroken when Robin decided she couldn't be as much a part of their gang anymore, due in part to Barney continuing to be, well, Barney around her. For that matter, what do you think about Barney and Robin splitting up? So, in the last of many flash-forwards in this finale, Ted went to the street in front of Robin's apartment and showed up with that blue French horn, the same one he stole for her in the first episode.