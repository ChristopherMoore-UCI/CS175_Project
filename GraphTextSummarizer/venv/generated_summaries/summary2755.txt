Both the residents and Taliban fighters are using heavy weapons, including rocket launchers and anti-aircraft weapons, Rehman said. Upper Dir is a part of the Swat Valley, where the Pakistani military has waged a month-long operation against Taliban militants, but the district has not been part of the ongoing military offensive. There is a long history of Taliban presence in the area, including foreign fighters in leadership roles, local officials said. The militants threatened to continue attacking cities in Pakistan until the military ends its operations against Taliban militants. -- Hundreds of Pakistani residents have taken up arms and are battling local Taliban militants in the wake of a deadly mosque attack last week.